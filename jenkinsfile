pipeline {
    agent any

    stages {
        stage('Deploy to SSH host') {
            steps {
                script {
                    echo 'Known Hosts Content:'
                    sh 'cat /home/ubuntu/.ssh/known_hosts'

                    // Create a test.txt file in /home
                    sh 'echo "Hello, this is a test file" | sudo tee /home/test.txt'
                }
            }
        }

        // Add more stages as needed
    }

    post {
        success {
            echo 'Pipeline succeeded! All stages completed successfully.'
        }
        failure {
            echo 'Pipeline failed! At least one stage failed.'
        }
    }
}
